= Configure Message Exchanges
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../assets/images/

A _message exchange_ enables you to send a message to one or more xref:mq-queues.adoc[queues] that are bound to the message exchange. The maximum size of a message sent to a message exchange is 10 MB.

FIFO does not support the use of a message exchange. Similarly, FIFO queues cannot be bound to a message exchange.

Before creating a message exchange, create one or more queues. For information, see xref:mq-queues.adoc#create-a-queue[Create Queues].

To create a message exchange:

. Log in to Anypoint Platform.
. Click *MQ* from the left navigation area or the main Anypoint Platform screen.
. Click *Destinations*.
. Click the blue plus-circle icon to display the menu:
+
image::mq-create-an-exchange.png[]
+
. Click *Exchange*.
. In the Create Exchange page, name the message exchange. 
+
Message exchange names can contain up to 127 alphanumeric characters (a-z, A-Z, 0-9), periods (.), and hyphens (-). They cannot contain spaces or other characters. 
. Click the checkboxes to bind queues to this message exchange:
+
image::mq-name-the-exchange.png[]
+
. Click *Save Changes*.
. In the Destinations page, click the message exchange type for the new exchange to display its details in the right pane:
+
image::mq-exchange-details2.png[]


== Bind a Queue to a Message Exchange

To bind a queue to a message exchange:

. In *Anypoint Platform > MQ*, click *Destinations* in the left pane.
. Click the message exchange ID to display the Exchange Settings page:
+
image::mq-bind-queue-to-exchange2.png[]
+
. In the settings page, click *Bind* or *Unbind* for each queue you want to bind to or unbind from the message exchange.

== Send a Message to a Message Exchange

Sending a message to a message exchange is similar to sending a message to a queue. The only difference is that you can get the message from any queue bound to a message exchange. The maximum size for a message sent to a message exchange is 10 MB.

To send a message to a message exchange:

. In *Anypoint Platform > MQ*, click *Destinations* in the left pane.
. Click the message exchange ID to display the Exchange Settings page:
+
image::mq-exchange-settings.png[]
+
. In the settings page, click *Message Sender* in the left pane:
+
image::mq-exchange-payload2.png[]
+
. Leave the *Type* field set to *Text*.
. Enter text in the *Payload* field, such as `Hello Queues from myMessageExchange`.
. Click *Send*.
. Click *View Messages* for a queue bound to the exchange to view the queue with the Message Browser.
+
See xref:mq-queues.adoc#get-a-message-from-a-queue[Get a Message From a Queue].

You also send JSON content or comma-separated values (CSV) in the payload by changing
the message *Type* value. See 
xref:mq-queues.adoc#send-a-json-message-to-a-queue[Send a JSON Message to a Queue] and 
xref:mq-queues.adoc#send-a-csv-message-to-a-queue[Send a CSV Message to a Queue].

== Delete a Message Exchange

If a message exchange is no longer needed, you can delete it. All queue bindings for the deleted exchange queue are lost. Clients can't publish or subscribe to the exchange.

To delete a message exchange:

. In *Anypoint Platform > MQ*, click *Destinations* in the left pane.
. In the Destinations page, click the message exchange type for the exchange to display its details in the right pane.
. Click the trash can icon in the upper right:
+
image::mq-exchange-delete.png[]
+
. In the Delete Exchange page, click the checkbox, then click *Delete Exchange*:
+
image::mq-delete-exchange.png[]

== See Also

* xref:mq-queues.adoc[Configure Queues]
* xref:mq-understanding.adoc[Anypoint MQ Terminology]
* xref:mq-faq.adoc[Anypoint MQ FAQ]
